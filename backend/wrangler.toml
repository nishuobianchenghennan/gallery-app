name = "gallery-backend"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# D1 数据库绑定
# 注意：database_id 需要在 Cloudflare Dashboard 创建 D1 数据库后获取
# 或者在 GitHub Secrets 中配置，通过 wrangler.toml 引用
[[d1_databases]]
binding = "DB"
database_name = "gallery-db"
database_id = "24cf103d-4e2b-4ac1-b554-dc3f8c135835"  # 留空，将在部署时通过 GitHub Secrets 或手动配置

# R2 存储绑定
[[r2_buckets]]
binding = "BUCKET"
bucket_name = "gallery-images"

# 环境变量
# 注意：生产环境的 JWT_SECRET 应该在 Cloudflare Dashboard 的 Workers 设置中配置
[vars]
JWT_SECRET = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4iLCJpYXQiOjE1MTYyMzkwMjIsImV4cCI6MTUxNjI0MjYyMn0.u_LWMNvPMXGV0X75rEbKVmGmcc9OjEV6TX6xXUK1zzQ"
